import{_}from"./AppLayout.vue_vue_type_script_setup_true_lang-luxmPJtd.js";import{d as g,A as d,n as h,a as v,e as t,u as a,w as o,F as x,o as y,m as k,b as i,h as p}from"./app-X6IBNoOp.js";import{u as $,t as F,F as N}from"./vee-validate-zod-CppCHWBl.js";import{_ as R,a as S}from"./Label.vue_vue_type_script_setup_true_lang-BjBcgqCZ.js";import{_ as V}from"./TabulatorTable.vue_vue_type_script_setup_true_lang-CJSfjonO.js";import{R as w}from"./RoleSchema-_M9ZWCN2.js";import{_ as C,a as M,b as T,c as A}from"./DialogTitle.vue_vue_type_script_setup_true_lang-CoYiqVdQ.js";import"./client-CoSIhTpW.js";import"./Primitive-CT1nwTPS.js";import"./useForwardExpose-ZrjDBdkd.js";import"./useForwardPropsEmits-DCASyspC.js";import"./settings-2DmcX_MA.js";import"./x-C1MsgDos.js";import"./createLucideIcon-g8sx4_0p.js";import"./RovingFocusGroup-C6P5g7Y6.js";import"./index-BWPUmTLK.js";import"./useAlertDialog-Deaumr1f.js";import"./Label-CGd5L7Po.js";import"./utils-DSuOEapb.js";const E={class:"flex flex-col gap-2"},te=g({__name:"Index",setup(B){const f=[{title:"Dashboard",href:"/dashboard"},{title:"Manajemen Role",href:"/acl/role"}],l=d([]),s=d(!1);h(async()=>{const n=await role();n.data&&(l.value=n.data,l.value=l.value.map(e=>({...e,actions:[{label:"Ubah",href:`/acl/role/${e.id}/edit`,button:{buttonType:"edit"}},{label:"Hapus",href:`/acl/role/${e.id}`,button:{buttonType:"delete"}}]})))});const m=F(w),{handleSubmit:U,values:u,resetForm:c}=$({validationSchema:m,initialValues:{id:void 0,name:"",childs:[]}}),b=[{title:"Nama",field:"name",sorter:"string"},{title:"Created At",field:"created_at",sorter:"string"},{title:"actions",field:"actions"}];return(n,e)=>(y(),v(x,null,[t(a(k),{title:"Role"}),t(a(N),{onSubmit:e[2]||(e[2]=()=>{}),as:"div","keep-values":"","validation-schema":a(m)},{default:o(()=>[t(a(C),{open:s.value,"onUpdate:open":e[1]||(e[1]=r=>s.value=r)},{default:o(()=>[t(a(M),{class:"2xl:max-w-[800px] max-h-[90dvh]"},{"dialog-title":o(()=>[t(a(T),null,{default:o(()=>e[3]||(e[3]=[p("Formulir Role")])),_:1}),t(a(A),{class:"overflow-auto"},{default:o(()=>e[4]||(e[4]=[i("p",{class:"text-sm font-light text-gray-500"}," Perubahan pada hak akses role akan mempengaruhi seluruh pengguna yang menggunakan role tersebut. ",-1)])),_:1})]),"dialog-footer":o(()=>e[6]||(e[6]=[i("button",{type:"submit",class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Simpan Perubahan ",-1)])),default:o(()=>[i("div",E,[t(a(R),{for:"name",required:!0},{default:o(()=>e[5]||(e[5]=[p("Nama Role")])),_:1}),t(a(S),{id:"name",modelValue:a(u).name,"onUpdate:modelValue":e[0]||(e[0]=r=>a(u).name=r),name:"name",type:"text",class:"border px-3 py-2 rounded-md",placeholder:"Masukkan Nama Role"},null,8,["modelValue"])])]),_:1})]),_:1},8,["open"])]),_:1},8,["validation-schema"]),t(_,{breadcrumbs:f,title:"MANAJEMEN ROLE",icon:"oi:list-rich",actions:[{label:"",href:"/acl/role/create",onClick:()=>{s.value=!0,a(c)()},button:{buttonType:"add"}}]},{default:o(()=>[t(V,{usingFilter:!0,isCentered:!0,data:l.value,columns:b,id:"main",options:[]},null,8,["data"])]),_:1},8,["actions"])],64))}});export{te as default};
