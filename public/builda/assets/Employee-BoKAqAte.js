import{_ as w}from"./AppLayout.vue_vue_type_script_setup_true_lang-luxmPJtd.js";import{d as v,A as p,n as E,a as k,e as r,u as o,w as c,F as R,o as T,m as P}from"./app-X6IBNoOp.js";import{_ as $,a as O}from"./TabulatorTable.vue_vue_type_script_setup_true_lang-CJSfjonO.js";import{u as C,t as F}from"./vee-validate-zod-CppCHWBl.js";import{a as V}from"./Label.vue_vue_type_script_setup_true_lang-BjBcgqCZ.js";import{a as j}from"./client-CoSIhTpW.js";import{l as d,o as t,s as e,n as l,b as x,a as b,c as m,d as N,u as D}from"./index-BWPUmTLK.js";import"./useForwardExpose-ZrjDBdkd.js";import"./useForwardPropsEmits-DCASyspC.js";import"./Primitive-CT1nwTPS.js";import"./settings-2DmcX_MA.js";import"./x-C1MsgDos.js";import"./createLucideIcon-g8sx4_0p.js";import"./RovingFocusGroup-C6P5g7Y6.js";import"./useAlertDialog-Deaumr1f.js";import"./utils-DSuOEapb.js";import"./Label-CGd5L7Po.js";const M=d(()=>t({nip:e().nullable(),bpjs_ketenagakerjaan:e().nullable(),sip:e().nullable(),sik:e().nullable(),str:e().nullable()})),G=M;var _=(a=>(a.A="A",a.B="B",a.AB="AB",a.O="O",a.A_NEGATIVE="A-",a.B_NEGATIVE="B-",a.AB_NEGATIVE="AB-",a.O_NEGATIVE="O-",a.A_POSITIVE="A+",a.B_POSITIVE="B+",a.AB_POSITIVE="AB+",a.O_POSITIVE="O+",a))(_||{}),f=(a=>(a.MALE="MALE",a.FEMALE="FEMALE",a))(f||{}),h=(a=>(a.SINGLE="SINGLE",a.MARRIED="MARRIED",a))(h||{});const L=t({id:l().nullable(),name:e(),province_id:l().nullable(),district_id:l().nullable(),subdistrict_id:l().nullable(),village_id:l().nullable()}),u=L,U=t({residence_same_as_ktp:x().optional().default(!1),ktp:u,residence:u}),B=U,z=t({nik:e().nullable(),npwp:e().nullable(),kk:e().nullable(),passport:e().nullable(),sim:e().nullable(),visa:e().nullable(),ihs:e().nullable(),bpjs:e().nullable()}),H=z,K=t({people_id:e().nullable(),role:e().nullable(),name:e().nullable(),phone:e().nullable()}),W=K,q=d(()=>t({id:e().nullable(),name:e(),sex:m(f).nullable(),dob:e(),pob:e(),last_education:N(l()),father_name:e().nullable(),mother_name:e().nullable(),blood_type:m(_).nullable(),marital_status:m(h).nullable(),total_children:l(),country_id:l().nullable(),address:B,card_identity:H,family_relationship:W,phones:b(e())})),J=q,Q=t({id:e().nullable(),username:e(),password:e().nullable(),password_confirmation:e().nullable(),email:e()}),X=Q,Y=t({id:l().nullable(),role_ids:b(l()).nullable(),user:X}),Z=Y,ee=d(()=>t({id:e().nullable(),card_identity:G,employee_type_id:l().nullable(),profession_id:l().nullable(),occupation_id:l(),hired_at:e(),people:J,user_reference:Z,profile:D().nullable()})),ae=ee,ge=v({__name:"Employee",setup(a){const y=[{title:"Dashboard",href:"/dashboard"},{title:"Manajemen Employee",href:"/acl/employee"}],n=p({data:[],loading:!0}),A=p(!1);E(async()=>{n.value.loading=!0;const i=await j.employee.index();i.data.data&&(n.value.data=i.data.data,n.value.data=n.value.data.map(s=>({...s,actions:[{label:"Ubah",href:`/acl/employee/${s.id}/edit`,button:{buttonType:"edit"}},{label:"Hapus",href:`/acl/employee/${s.id}`,button:{buttonType:"delete"}}]})),n.value.loading=!1)});const S=F(ae),{handleSubmit:le,values:te,resetForm:g}=C({validationSchema:S}),I=[{title:"Nama Pegawai",field:"people.name",sorter:"string"},{title:"TTD",field:"people.dob",sorter:"string",formatter:i=>{const s=i.getData();return`${s.people.pob}, ${s.people.dob}`}},{title:"Tgl Kerja",field:"hired_at",sorter:"string"},{title:"Tipe Pegawai",field:"employee_type.name",sorter:"string"},{title:"Profesi",field:"profession.name",sorter:"string"},{title:"Pekerjaan",field:"occupation.name",sorter:"string"},{title:"",field:"actions"}];return(i,s)=>(T(),k(R,null,[r(o(P),{title:"Employee"}),r(w,{breadcrumbs:y,title:"DATA PEGAWAI",icon:"oi:list-rich",actions:[{label:"",href:"/employee-management/employee/create",onClick:()=>{A.value=!0,o(g)()},button:{buttonType:"add"}}]},{default:c(()=>[r($,{loading:n.value.loading,usingFilter:!0,data:n.value.data,columns:I,id:"main",options:[]},{toolbar:c(()=>[r(O,{class:"w-max",label:"Pencarian"},{default:c(()=>[r(o(V),{class:"my-auto xl:grid-cols-2",type:"text",placeholder:"Cari menggunakan nama, profesi, atau pekerjaan",id:"filter-value"})]),_:1})]),_:1},8,["loading","data"])]),_:1},8,["actions"])],64))}});export{ge as default};
